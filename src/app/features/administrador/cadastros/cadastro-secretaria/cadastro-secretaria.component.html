<div class="cadastro-container">
  <div class="cadastro-dialog">
    <!-- Header -->
    <header class="cadastro-header cadastro-header--secretaria">
      <div class="cadastro-header__info">
        <div class="cadastro-header__icon">
          <i class="fa-solid fa-user-pen"></i>
        </div>
        <div>
          <h2 class="cadastro-header__title">Cadastro de Secretária</h2>
          <p class="cadastro-header__subtitle">Preencha os dados da secretária</p>
        </div>
      </div>
    </header>

    <!-- Body -->
    <div class="cadastro-body">
      <!-- Seção: Dados -->
      <section class="cadastro-section cadastro-section--open">
        <div class="cadastro-section__header">
          <i class="fa-solid fa-user"></i>
          <h3 class="cadastro-section__title">Dados da Secretária</h3>
        </div>
        <div class="cadastro-section__body">
          <form [formGroup]="FormularioSecretaria" class="cadastro-grid">
            <div class="cadastro-field">
              <label class="cadastro-field__label">
                <span class="cadastro-field__required">*</span> Nome Completo
              </label>
              <input 
                type="text" 
                class="cadastro-field__input" 
                formControlName="nome" 
                placeholder="Digite o nome completo">
            </div>

            <div class="cadastro-field">
              <label class="cadastro-field__label">
                <span class="cadastro-field__required">*</span> CPF (usado como login)
              </label>
              <input 
                type="text" 
                class="cadastro-field__input" 
                formControlName="cpf" 
                placeholder="000.000.000-00"
                maxlength="14"
                (blur)="validateCpfOnBlur()">
              <div *ngIf="FormularioSecretaria.get('cpf')?.invalid && FormularioSecretaria.get('cpf')?.touched" class="cadastro-field__error">
                <span *ngIf="FormularioSecretaria.get('cpf')?.errors?.['required']">CPF é obrigatório</span>
                <span *ngIf="FormularioSecretaria.get('cpf')?.errors?.['cpfInvalid']">CPF inválido</span>
              </div>
            </div>

            <div class="cadastro-field cadastro-field--full">
              <label class="cadastro-field__label">
                <span class="cadastro-field__required">*</span> Email
              </label>
              <input 
                type="email" 
                class="cadastro-field__input" 
                formControlName="email" 
                placeholder="email@exemplo.com">
            </div>

            <div class="cadastro-field">
              <label class="cadastro-field__label">
                <span class="cadastro-field__required">*</span> Telefone
              </label>
              <input 
                type="text" 
                class="cadastro-field__input" 
                formControlName="telefone" 
                placeholder="(00) 00000-0000"
                maxlength="17">
            </div>

          </form>
        </div>
      </section>
    </div>

    <!-- Footer -->
    <footer class="cadastro-footer">
      <div class="cadastro-footer__hint">
        <i class="fa-solid fa-asterisk"></i>
        <span>Campos obrigatórios | O CPF será usado como login e a senha será enviada por email</span>
      </div>
      <div class="cadastro-footer__actions">
        <button 
          class="cadastro-btn cadastro-btn--primary"
          [disabled]="!FormularioSecretaria.valid || isLoading"
          (click)="cadastra()">
          <i class="fa-solid" [ngClass]="isLoading ? 'fa-spinner fa-spin' : 'fa-check'"></i>
          {{ isLoading ? 'Cadastrando...' : 'Cadastrar Secretária' }}
        </button>
      </div>
    </footer>
  </div>
</div>
